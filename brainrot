local player = game.Players.LocalPlayer
local char = player.Character or player.CharacterAdded:Wait()
local hrp = char:WaitForChild("HumanoidRootPart")

local basePosition = nil
local moving = false

-- Forzar Noclip en cada frame
game:GetService("RunService").Stepped:Connect(function()
    if moving then
        for _, v in pairs(char:GetDescendants()) do
            if v:IsA("BasePart") and v.CanCollide == true then
                v.CanCollide = false
            end
        end
    end
end)

-- UI
local gui = Instance.new("ScreenGui", player:WaitForChild("PlayerGui"))
gui.Name = "MegaTPGui"

local saveBtn = Instance.new("TextButton", gui)
saveBtn.Text = "üìç Guardar Base"
saveBtn.Size = UDim2.new(0, 160, 0, 40)
saveBtn.Position = UDim2.new(0, 20, 0, 100)
saveBtn.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
saveBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
saveBtn.Font = Enum.Font.SourceSansBold
saveBtn.TextSize = 18

local tpBtn = Instance.new("TextButton", gui)
tpBtn.Text = "‚ò†Ô∏è Traspasar Forzado"
tpBtn.Size = UDim2.new(0, 160, 0, 40)
tpBtn.Position = UDim2.new(0, 20, 0, 150)
tpBtn.BackgroundColor3 = Color3.fromRGB(100, 0, 0)
tpBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
tpBtn.Font = Enum.Font.SourceSansBold
tpBtn.TextSize = 18

-- Guardar Base
saveBtn.MouseButton1Click:Connect(function()
    char = player.Character or player.CharacterAdded:Wait()
    hrp = char:FindFirstChild("HumanoidRootPart")
    if hrp then
        basePosition = hrp.Position
        saveBtn.Text = "‚úÖ Guardado"
        wait(1)
        saveBtn.Text = "üìç Guardar Base"
    end
end)

-- Movimiento directo por CFrame
tpBtn.MouseButton1Click:Connect(function()
    if not basePosition then
        tpBtn.Text = "‚ùå Sin base guardada"
        wait(1.5)
        tpBtn.Text = "‚ò†Ô∏è Traspasar Forzado"
        return
    end

    moving = true
    local speed = 10 -- Cuanto m√°s alto, m√°s r√°pido (pero m√°s detectable)
    
    while moving and hrp and (hrp.Position - basePosition).Magnitude > 5 do
        local direction = (basePosition - hrp.Position).Unit
        hrp.CFrame = hrp.CFrame + direction * speed
        wait(0.02)
    end

    moving = false
    tpBtn.Text = "‚úÖ Llegaste"
    wait(1.5)
    tpBtn.Text = "‚ò†Ô∏è Traspasar Forzado"
end)
