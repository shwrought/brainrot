-- SCRIPT: Caminar a base sin ser regresado por el servidor

local player = game.Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()
local humanoid = character:WaitForChild("Humanoid")

local basePosition = nil

-- Crear GUI
local gui = Instance.new("ScreenGui")
gui.Name = "SafeTPGui"
gui.ResetOnSpawn = false
gui.Parent = player:WaitForChild("PlayerGui")

-- Bot√≥n Guardar Base
local saveBtn = Instance.new("TextButton")
saveBtn.Name = "SaveBaseButton"
saveBtn.Parent = gui
saveBtn.Size = UDim2.new(0, 160, 0, 40)
saveBtn.Position = UDim2.new(0, 20, 0, 100)
saveBtn.Text = "üìç Guardar Base"
saveBtn.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
saveBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
saveBtn.Font = Enum.Font.SourceSansBold
saveBtn.TextSize = 18

-- Bot√≥n Caminar a Base
local walkBtn = Instance.new("TextButton")
walkBtn.Name = "WalkToBaseButton"
walkBtn.Parent = gui
walkBtn.Size = UDim2.new(0, 160, 0, 40)
walkBtn.Position = UDim2.new(0, 20, 0, 150)
walkBtn.Text = "üö∂ Ir a Base"
walkBtn.BackgroundColor3 = Color3.fromRGB(0, 90, 0)
walkBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
walkBtn.Font = Enum.Font.SourceSansBold
walkBtn.TextSize = 18

-- Funci√≥n Guardar Base
saveBtn.MouseButton1Click:Connect(function()
    character = player.Character or player.CharacterAdded:Wait()
    local hrp = character:FindFirstChild("HumanoidRootPart")
    if hrp then
        basePosition = hrp.Position
        saveBtn.Text = "‚úÖ Base Guardada"
        wait(1.5)
        saveBtn.Text = "üìç Guardar Base"
    end
end)

-- Funci√≥n Ir a Base
walkBtn.MouseButton1Click:Connect(function()
    if basePosition and humanoid then
        walkBtn.Text = "üö∂ Caminando..."
        humanoid:MoveTo(basePosition)

        local reached = humanoid.MoveToFinished:Wait()
        if reached then
            walkBtn.Text = "‚úÖ Llegaste"
        else
            walkBtn.Text = "‚ö†Ô∏è No se pudo llegar"
        end

        wait(1.5)
        walkBtn.Text = "üö∂ Ir a Base"
    else
        walkBtn.Text = "‚ùå Base no guardada"
        wait(1.5)
        walkBtn.Text = "üö∂ Ir a Base"
    end
end)
