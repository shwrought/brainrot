-- Vuelo Forzado Hacia Base con Noclip Extremo

local player = game.Players.LocalPlayer
local RunService = game:GetService("RunService")

local basePosition = nil
local moving = false
local speed = 25 -- Puedes subir hasta 50 si el servidor lo permite

local gui = Instance.new("ScreenGui", player:WaitForChild("PlayerGui"))
gui.Name = "FlyTPGui"
gui.ResetOnSpawn = false

-- Guardar Base
local saveBtn = Instance.new("TextButton", gui)
saveBtn.Text = "📍 Guardar Base"
saveBtn.Size = UDim2.new(0, 160, 0, 40)
saveBtn.Position = UDim2.new(0, 20, 0, 100)
saveBtn.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
saveBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
saveBtn.Font = Enum.Font.SourceSansBold
saveBtn.TextSize = 18
saveBtn.Parent = gui

-- Ir Volando
local tpBtn = Instance.new("TextButton", gui)
tpBtn.Text = "🚀 Volar a Base"
tpBtn.Size = UDim2.new(0, 160, 0, 40)
tpBtn.Position = UDim2.new(0, 20, 0, 150)
tpBtn.BackgroundColor3 = Color3.fromRGB(120, 0, 0)
tpBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
tpBtn.Font = Enum.Font.SourceSansBold
tpBtn.TextSize = 18
tpBtn.Parent = gui

gui.Parent = player:WaitForChild("PlayerGui")

-- Noclip cada frame mientras se mueve
RunService.Stepped:Connect(function()
    if moving then
        local char = player.Character
        if char then
            for _, part in pairs(char:GetDescendants()) do
                if part:IsA("BasePart") and part.CanCollide then
                    part.CanCollide = false
                end
            end
        end
    end
end)

-- Guardar base
saveBtn.MouseButton1Click:Connect(function()
    local char = player.Character or player.CharacterAdded:Wait()
    local hrp = char:FindFirstChild("HumanoidRootPart")
    if hrp then
        basePosition = hrp.Position
        saveBtn.Text = "✅ Guardado"
        wait(1.5)
        saveBtn.Text = "📍 Guardar Base"
    end
end)

-- Volar hacia la base
tpBtn.MouseButton1Click:Connect(function()
    local char = player.Character or player.CharacterAdded:Wait()
    local hrp = char:FindFirstChild("HumanoidRootPart")

    if basePosition and hrp then
        moving = true
        tpBtn.Text = "🚀 Volando..."
        while moving and (hrp.Position - basePosition).Magnitude > 5 do
            local direction = (basePosition - hrp.Position).Unit
            hrp.CFrame = hrp.CFrame + direction * speed
            wait(0.02)
        end
        moving = false
        tpBtn.Text = "✅ Llegaste"
        wait(1.5)
        tpBtn.Text = "🚀 Volar a Base"
    else
        tpBtn.Text = "❌ Base no guardada"
        wait(1.5)
        tpBtn.Text = "🚀 Volar a Base"
    end
end)
